(this["webpackJsonpmemory-lol"]=this["webpackJsonpmemory-lol"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),s=n.n(r),u=(n(13),n(2)),i=(n(14),"IN_PROGRESS"),o="LOADING",j="CREATING",b="FINISHED",l="SELECTED",d="MATCHED",f="HIDDEN",O=n(3),h=n.n(O),p=n(5),m=n(6),x=n(4),v=(n(16),n(17),n(0)),g=function(e){var t=e.data,n=e.click,a=e.index,r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],j=t.id,b=t.url,O=t.status,h=O===l,p=O===d;return Object(v.jsxs)("div",{className:"card ".concat(h?"selected":""," ").concat(p?"matched":""),onClick:function(){O===f&&n(a,j)},children:[Object(v.jsx)("div",{className:"front",children:Object(v.jsx)("img",{src:b,alt:"champion",onLoad:function(){return o(!0)}})}),Object(v.jsx)("div",{className:"back",children:!i&&"Loading"})]})},k="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/";function S(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ddragon.leagueoflegends.com/cdn/11.8.1/data/en_US/champion.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,c=Object.keys(n.data),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(h.a.mark((function e(t){var n,c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(k).concat(t,"_0.jpg"),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.blob();case 6:return a=e.sent,r=URL.createObjectURL(a),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(h.a.mark((function e(){var t,n,c,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=new Set,e.next=4,S();case 4:c=e.sent;case 5:if(!(n.size<Math.ceil(7.5))){e.next=15;break}if(a=Math.floor(Math.random()*c.length)+1,!c[a]){e.next=13;break}return r=c[a],e.next=11,w(r);case 11:s=e.sent,n.has(r)||(n.add(r),t.push({id:r,url:s,status:f}));case 13:e.next=5;break;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:for(t=e.sent,n=t.concat(t);n.length>15;)n.pop();return c=n.sort((function(){return.5-Math.random()})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){var t=e.gameStatus,n=e.onGameUpdate,a=Object(c.useState)({}),r=Object(u.a)(a,2),s=r[0],O=r[1],k=Object(c.useState)(!1),S=Object(u.a)(k,2),y=S[0],w=S[1],C=Object(c.useState)(null),N=Object(u.a)(C,2),E=N[0],R=N[1],D=Object(c.useState)(null),I=Object(u.a)(D,2),T=I[0],M=I[1],G=Object(c.useState)(0),A=Object(u.a)(G,2),F=A[0],U=A[1],P=Object(c.useRef)(0),H=Object(c.useState)(null),_=Object(u.a)(H,2),z=_[0],B=_[1],J=Object(c.useCallback)((function(){if(E&&T){var e,t=Object(x.a)({},s[E.index]),n=Object(x.a)({},s[T.index]);E.id===T.id?(t.status=d,n.status=d):(t.status=f,n.status=f);var c=Object(x.a)(Object(x.a)({},s),{},(e={},Object(m.a)(e,E.index,t),Object(m.a)(e,T.index,n),e));setTimeout((function(){return O(c)}),800),setTimeout((function(){return R(null),M(null),void w(!1)}),800)}}),[s,E,T]),q=function(e,t){if(y)return!0;if(P.current++,F<2){var n=F+1,c={index:e,id:t};U(n),1===n?R(c):(M(c),w(!0)),function(e,t){var n=Object(x.a)({},s),c=Object(x.a)({},n[e]);c.status=t,n[e]=c,O(n)}(e,l)}},K=Object(c.useCallback)((function(){O((function(e){var t=Object.keys(s).find((function(e){return s[e].status===f}));if(t){var n=Object(x.a)(Object(x.a)({},s[t]),{},{status:l});return Object(x.a)(Object(x.a)({},s),{},Object(m.a)({},t,n))}return e}))}),[s]),Q=Object(c.useCallback)((function(){(console.log(P.current),0===F)?14===Object.keys(s).filter((function(e){return s[e].status===d})).length&&n(b,{flips:P.current,time:"".concat((new Date-z)/1e3," seconds")}):2===F&&(U(0),J())}),[J,s,F,n,z]),V=Object(c.useCallback)(Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(o),e.t0=O,e.next=4,L();case 4:e.t1=e.sent,(0,e.t0)(e.t1),P.current=0,B(new Date),n(i);case 9:case"end":return e.stop()}}),e)}))),[n]);return Object(c.useEffect)((function(){console.log(t),t===j?V():t===i?Q():t===b&&K()}),[Q,V,K,t]),Object(v.jsx)("div",{className:"board",children:t===o?"Loading...":Object.entries(s).map((function(e){var t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(g,{index:n,data:c,click:q},n)}))})},D=(n(19),function(e){return Object(v.jsxs)("div",{className:"root",children:[Object(v.jsx)("div",{children:"Congratulations Summoner, you've won!"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Cards flipped:"}),e.results.flips," times"]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Time taken:"})," ",e.results.time]})]}),Object(v.jsx)("button",{className:"button",onClick:function(){e.onReset(j)},children:"Play Again"})]})});var I=function(){var e=Object(c.useState)(j),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),s=Object(u.a)(r,2),i=s[0],o=s[1],l=function(e,t){a(e),e===b&&o(t)};return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("header",{className:"header",children:Object(v.jsx)("h1",{className:"header-title",children:"League of Memory"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(R,{gameStatus:n,onGameUpdate:l}),n===b&&Object(v.jsx)(D,{onReset:l,results:i})]}),Object(v.jsxs)("footer",{className:"footer",children:["Created by Abraham Rivera",Object(v.jsx)("br",{}),"Check my other apps on ",Object(v.jsx)("a",{href:"https://github.com/R-arzep",children:"Github"})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),T()}],[[20,1,2]]]);
//# sourceMappingURL=main.65452fc4.chunk.js.map